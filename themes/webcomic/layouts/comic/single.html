{{ define "title" }}
<!-- This will override the default value set in baseof.html; i.e., "{{.Site.Title}}" in the original example-->
{{ .Title }} â€“ {{ .Site.Title }}
{{ end }}
{{ define "main" }}
<div class="page comic container">
	<div class="comic-nav_top">
		{{ partial "comic-nav.html" . }}
	</div>
	<header class="comic_header">
		<h1 class="comic_title">{{ .Title }}</h1>
	</header>
	{{ range .Params.comic.rows }}
		<div class="comic_row">
			{{ range .cols}}
				<div class="comic_panel">
					<img src="{{ .panel }}" class="comic_img" />
				</div>
			{{end}}
		</div>
	{{ end }}
	<!-- <div class="comic-nav_bottom">
			{{ partial "comic-nav.html" . }}
		</div> -->
	<div class="comic_content">
		{{ .Content }}
		<strong>Characters</strong>
		<ul class="list-unstyled">
		{{ range .Params.characters }}
				<li><a href="/characters/{{ . | urlize }}">{{ . }}</a></li>
		{{ end }}
		</ul>
	</div>
</div>

<script >
		if (/Mobi|Android/i.test(navigator.userAgent)) {
			window.onscroll = function() {
					if ((window.innerHeight + window.pageYOffset) >= document.body.offsetHeight) {
							document.getElementsByClassName('next')[0].click();
					}
			};
		} else {
			document.addEventListener('keydown', (event) => {
				const keyName = event.key;
				switch (keyName) {
					case "ArrowLeft":
						document.getElementsByClassName('prev')[0].click();
						return;
					case "ArrowRight":
						document.getElementsByClassName('next')[0].click();
						return;
					default:
						return;
				}
			});
		}
		</script>

{{end}}
